"use strict";(self.webpackChunk_dhis2_app_shell=self.webpackChunk_dhis2_app_shell||[]).push([[423],{18123:function(e,t,l){var n=l(6894),r=l(5325);t.Z=void 0;var i=r(l(81195)),o=(0,n(l(20334)).default)(i.createElement("path",{d:"M6 5H3c-.55 0-1 .45-1 1v12c0 .55.45 1 1 1h3c.55 0 1-.45 1-1V6c0-.55-.45-1-1-1zm14 0h-3c-.55 0-1 .45-1 1v12c0 .55.45 1 1 1h3c.55 0 1-.45 1-1V6c0-.55-.45-1-1-1zm-7 0h-3c-.55 0-1 .45-1 1v12c0 .55.45 1 1 1h3c.55 0 1-.45 1-1V6c0-.55-.45-1-1-1z"}),"ViewWeek");t.Z=o},50423:function(e,t,l){l.r(t),l.d(t,{default:function(){return $}});var n=l(81195),r=l(26874),i=l(18123),o=l(25435),a=l(90140),d=l(6997),c=l(13488),s=l(477),u=l.n(s);function p(e){let{selectedItems:t,onClick:l,icon:i,label:o}=e;const a=i;return n.createElement(d.u,{content:n.createElement("div",null,null===t||void 0===t?void 0:t.map((e=>{let{displayName:t,name:l,id:r}=e;return n.createElement("p",{style:{margin:4},key:`cell-analysis-selector-${r}`},null!==l&&void 0!==l?l:t)})))},n.createElement("div",{className:"row align-items-center",style:{padding:8,maxWidth:"100%",overflowX:"auto",background:c.O.grey300,borderRadius:4},onClick:()=>{l(!0)}},n.createElement(a,{style:{color:c.O.grey700,margin:"0 4px"}}),n.createElement("p",{style:{fontSize:14,color:c.O.grey900,margin:0}},o,null!==t&&":"),null!==t&&n.createElement("p",{style:{fontSize:14,color:c.O.grey700,margin:0,paddingLeft:4}},r.Z.t("{{number}} Selected",{number:null===t||void 0===t?void 0:t.length}))))}p.propTypes={icon:u().any.isRequired,label:u().string.isRequired,selectedItems:u().array.isRequired,onClick:u().func.isRequired};var m=l(22020),v=l(53040),y=l(86900),E=l(98914),g=l(99136),h=l(86837),b=l(13534),f=l(69987),C=l(92544),R=l(42622);function w(){return w=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var n in l)Object.prototype.hasOwnProperty.call(l,n)&&(e[n]=l[n])}return e},w.apply(this,arguments)}function O(e){let{children:t,type:l,index:r}=e;return n.createElement(C._l,{draggableId:l,index:r},(e=>{var l;return n.createElement("div",w({ref:e.innerRef},e.draggableProps,e.dragHandleProps,{style:{...null===e||void 0===e||null===(l=e.draggableProps)||void 0===l?void 0:l.style,cursor:"move"}}),t)}))}function k(){return k=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var n in l)Object.prototype.hasOwnProperty.call(l,n)&&(e[n]=l[n])}return e},k.apply(this,arguments)}function I(e){let{children:t,type:l}=e;return n.createElement(C.bK,{droppableId:l},((e,l)=>{var r;return n.createElement("div",k({},e.droppableProps,{ref:e.innerRef,style:{...null===e||void 0===e||null===(r=e.droppableProps)||void 0===r?void 0:r.style,height:"100%",width:"100%",minHeight:100,border:l.isDragging&&`2px dashed ${c.O.grey700}`}}),t,e.placeholder)}))}O.propTypes={children:u().node.isRequired,index:u().number.isRequired,type:u().oneOf([R.aV.OU_LAYOUT,R.aV.DX_LAYOUT,R.aV.PE_LAYOUT]).isRequired},I.propTypes={children:u().node.isRequired,type:u().oneOf(["column","row","filter","series","category"]).isRequired};var x=l(62685);function S(e){var t,l;let{layout:i,onLayoutChange:o}=e;const{column:a,row:d,series:c,category:s,filter:u}=null!==i&&void 0!==i?i:{},p=e=>{let{source:t,destination:l}=e;try{(0,f.isEmpty)(t)||(0,f.isEmpty)(l)||((null===t||void 0===t?void 0:t.droppableId)===(null===l||void 0===l?void 0:l.droppableId)?o((e=>{const n=(0,x.$$)(e[t.droppableId],null===t||void 0===t?void 0:t.index,null===l||void 0===l?void 0:l.index);return{...e,[t.droppableId]:n}})):o((e=>{const n=e[t.droppableId],r=e[l.droppableId],{destinationList:i,sourceList:o}=(0,x.hs)({sourceList:n,destinationList:r},{sourceIndex:null===t||void 0===t?void 0:t.index,destinationIndex:null===l||void 0===l?void 0:l.index});return{...e,[t.droppableId]:o,[l.droppableId]:i}})))}catch(n){console.error(n)}};return n.createElement("div",null,n.createElement(C.Z5,{onDragEnd:p},n.createElement("div",{className:"grid-2"},n.createElement("div",{className:"column bordered p-8"},n.createElement("p",null,a?r.Z.t("Column"):r.Z.t("Series")),n.createElement(I,{onDrop:p,type:a?"column":"series"},null===(t=null!==a&&void 0!==a?a:c)||void 0===t?void 0:t.map(((e,t)=>{var l,r;return n.createElement(O,{index:t,key:`${e}`,type:e},n.createElement(b.A,{icon:null===R.Cs||void 0===R.Cs||null===(l=R.Cs[e])||void 0===l?void 0:l.icon,className:"w-100"},null===R.Cs||void 0===R.Cs||null===(r=R.Cs[e])||void 0===r?void 0:r.displayName))})))),n.createElement("div",{className:"column bordered p-8"},n.createElement("p",null,d?r.Z.t("Row"):r.Z.t("Category")),n.createElement(I,{onDrop:p,type:d?"row":"category"},null===(l=null!==d&&void 0!==d?d:s)||void 0===l?void 0:l.map(((e,t)=>{var l,r;return n.createElement(O,{index:t,key:`${e}`,type:e},n.createElement(b.A,{icon:null===R.Cs||void 0===R.Cs||null===(l=R.Cs[e])||void 0===l?void 0:l.icon,className:"w-100"},null===R.Cs||void 0===R.Cs||null===(r=R.Cs[e])||void 0===r?void 0:r.displayName))})))),n.createElement("div",{className:"column bordered p-8"},n.createElement("p",null,r.Z.t("Filter")),n.createElement(I,{onDrop:p,type:"filter"},null===u||void 0===u?void 0:u.map(((e,t)=>{var l,r;return n.createElement(O,{index:t,key:`${e}`,type:e},n.createElement(b.A,{icon:null===R.Cs||void 0===R.Cs||null===(l=R.Cs[e])||void 0===l?void 0:l.icon,className:"w-100"},null===R.Cs||void 0===R.Cs||null===(r=R.Cs[e])||void 0===r?void 0:r.displayName))})))))))}function L(e){let{onClose:t,onSelect:l,initialValue:r}=e;const[i,o]=(0,n.useState)(r);return n.createElement(m.u,{large:!0,onClose:t},n.createElement(v.r,null,"Select Layout(s)"),n.createElement(y.h,null,n.createElement(S,{onLayoutChange:o,layout:i})),n.createElement(E.n,null,n.createElement(g.J,null,n.createElement(h.z,{onClick:t},"Cancel"),n.createElement(h.z,{primary:!0,onClick:()=>{l(i),t()}},"Update"))))}function N(){const[e,t]=(0,o.useRecoilState)(a.$),[l,d]=(0,n.useState)(!1);return n.createElement("div",{style:{width:"30%"}},n.createElement(p,{icon:i.Z,onClick:d,selectedItems:null,label:r.Z.t("Layout")}),l&&n.createElement(L,{initialValue:e,onClose:()=>d(!1),onSelect:t}))}S.propTypes={layout:u().object.isRequired,onLayoutChange:u().func.isRequired},L.propTypes={initialValue:u().object.isRequired,onClose:u().func.isRequired,onSelect:u().func.isRequired};var Z=l(98132),q=l(3219),P=l(55481),V=l(19511);function U(){const[e,t]=(0,o.useRecoilState)(P.Yn),l=(0,o.useRecoilValue)(V.Ee),i=(0,o.useRecoilValue)(V.tR),[a,d]=(0,n.useState)(!1),c=(0,n.useMemo)((()=>(0,x.O_)(e,{orgUnitGroups:i,orgUnitLevels:l})),[i,l,e]);return n.createElement("div",{className:"pr-16",style:{width:"30%"}},n.createElement(p,{label:r.Z.t("Organisation Unit(s)"),icon:q.Z,onClick:d,selectedItems:c}),a&&n.createElement(Z.e5,{showGroups:!0,showLevels:!0,showUserOptions:!0,onClose:()=>d(!1),value:e,hide:!a,onUpdate:e=>{d(!1),t(e)}}))}var _=l(4111),T=l(33233),j=l(12307);function z(){var e;const[t,l]=(0,o.useRecoilState)(T.nK),{periods:i}=null!==t&&void 0!==t?t:{},[a,d]=(0,n.useState)(!1),{calendar:c}=null!==(e=(0,o.useRecoilValue)(V.tU))&&void 0!==e?e:{};return n.createElement("div",{className:"pr-16",style:{width:"30%"}},n.createElement(p,{label:r.Z.t("Period(s)"),icon:_.Z,onClick:d,selectedItems:i}),a&&n.createElement(Z.rJ,{enablePeriodSelector:!0,selectedPeriods:i.map((e=>{let{id:t}=e;return t})),calendar:c,hide:!a,onClose:()=>d(!1),excludedPeriodTypes:R.zP,onUpdate:e=>{l({periods:e.map((e=>j._M.getPeriodById(e)))}),d(!1)}}))}function $(){return n.createElement("div",{className:"row space-between"},n.createElement(U,null),n.createElement(z,null),n.createElement(N,null))}}}]);
//# sourceMappingURL=423.3ef8894b.chunk.js.map